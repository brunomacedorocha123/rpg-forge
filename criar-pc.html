=<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPGForge - Criação de Personagem</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style-principal.css">
</head>
<body>
    <!-- Cabeçalho -->
    <div class="header">
        <h1><i class="fas fa-user-plus"></i> Criar Novo Personagem</h1>
        <div class="header-buttons">
            <button class="header-btn btn-save" id="saveBtn">
                <i class="fas fa-save"></i> Salvar
            </button>
            <button class="header-btn btn-edit" id="editBtn">
                <i class="fas fa-edit"></i> Editar
            </button>
            <button class="header-btn btn-clear" id="clearBtn">
                <i class="fas fa-broom"></i> Limpar
            </button>
        </div>
    </div>
    
    <!-- Tabs -->
    <div class="tabs">
        <button class="tab active" data-tab="principal">
            <i class="fas fa-user"></i> Principal
        </button>
        <button class="tab" data-tab="vantagens">
            <i class="fas fa-star"></i> Vantagens/Desvantagens
        </button>
        <button class="tab" data-tab="pericias">
            <i class="fas fa-graduation-cap"></i> Perícias/Técnicas
        </button>
        <button class="tab" data-tab="magia">
            <i class="fas fa-hat-wizard"></i> Magia
        </button>
        <button class="tab" data-tab="equipamentos">
            <i class="fas fa-shopping-bag"></i> Equipamentos
        </button>
        <button class="tab" data-tab="combate">
            <i class="fas fa-fist-raised"></i> Combate
        </button>
    </div>
    
    <!-- Conteúdo: Principal -->
    <div id="principal" class="tab-content active">
        <div class="main-container">
            <!-- SEÇÃO 1: IDENTIFICAÇÃO DO PC -->
            <section class="section identificacao">
                <h2 class="section-title">
                    <i class="fas fa-id-card"></i> Identificação do Personagem
                </h2>
                <div class="form-grid">
                    <!-- Linha 1 -->
                    <div class="form-group">
                        <label for="nome"><i class="fas fa-user"></i> Nome do Personagem</label>
                        <input type="text" id="nome" placeholder="Digite o nome do personagem">
                    </div>
                    
                    <div class="form-group">
                        <label for="classe"><i class="fas fa-crown"></i> Classe</label>
                        <select id="classe">
                            <option value="">Selecione uma classe</option>
                            <option value="guerreiro">Guerreiro</option>
                            <option value="mago">Mago</option>
                            <option value="arqueiro">Arqueiro</option>
                            <option value="ladino">Ladino</option>
                            <option value="clerigo">Clérigo</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="raca"><i class="fas fa-dragon"></i> Raça</label>
                        <select id="raca">
                            <option value="">Selecione uma raça</option>
                            <option value="humano">Humano</option>
                            <option value="elfo">Elfo</option>
                            <option value="anao">Anão</option>
                            <option value="orc">Orc</option>
                            <option value="halfling">Halfling</option>
                        </select>
                    </div>
                    
                    <!-- Linha 2 -->
                    <div class="form-group">
                        <label><i class="fas fa-fingerprint"></i> ID do Personagem</label>
                        <div class="id-display">
                            <span id="personagemId">PC-00001</span>
                            <button type="button" class="btn-generate" id="generateIdBtn">
                                <i class="fas fa-redo"></i> Gerar
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="idade"><i class="fas fa-birthday-cake"></i> Idade</label>
                        <div class="input-with-buttons">
                            <input type="number" id="idade" min="12" max="500" value="25">
                            <div class="input-buttons">
                                <button type="button" onclick="ajustarValor('idade', -1)">-</button>
                                <button type="button" onclick="ajustarValor('idade', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group altura-peso">
                        <label><i class="fas fa-ruler-vertical"></i> Altura/Peso</label>
                        <div class="altura-peso-group">
                            <div class="altura-peso-item">
                                <input type="number" id="altura" min="1.20" max="2.50" step="0.01" value="1.70">
                                <span class="unit">m</span>
                                <button type="button" class="btn-customize" id="customizeAlturaPesoBtn">
                                    <i class="fas fa-sliders-h"></i>
                                </button>
                            </div>
                            <div class="altura-peso-item">
                                <input type="number" id="peso" min="20" max="200" step="1" value="70">
                                <span class="unit">kg</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- História do Personagem -->
                <div class="form-group full-width">
                    <label for="historia"><i class="fas fa-scroll"></i> História do Personagem</label>
                    <textarea id="historia" rows="4" placeholder="Descreva brevemente a história, motivações e personalidade do seu personagem..."></textarea>
                </div>
            </section>
            
            <!-- SEÇÃO 2: ATRIBUTOS BÁSICOS -->
            <section class="section atributos-basicos">
                <h2 class="section-title">
                    <i class="fas fa-chart-line"></i> Atributos Básicos
                </h2>
                <div class="atributos-grid">
                    <!-- Atributos Principais -->
                    <div class="atributo-card">
                        <div class="atributo-header">
                            <h3>Força (ST)</h3>
                            <span class="atributo-value" id="currentST">10</span>
                        </div>
                        <div class="atributo-controls">
                            <button class="btn-atributo" onclick="alterarAtributo('ST', -1)">-</button>
                            <input type="number" id="ST" min="1" max="40" value="10" readonly>
                            <button class="btn-atributo" onclick="alterarAtributo('ST', 1)">+</button>
                        </div>
                    </div>
                    
                    <div class="atributo-card">
                        <div class="atributo-header">
                            <h3>Destreza (DX)</h3>
                            <span class="atributo-value" id="currentDX">10</span>
                        </div>
                        <div class="atributo-controls">
                            <button class="btn-atributo" onclick="alterarAtributo('DX', -1)">-</button>
                            <input type="number" id="DX" min="1" max="40" value="10" readonly>
                            <button class="btn-atributo" onclick="alterarAtributo('DX', 1)">+</button>
                        </div>
                    </div>
                    
                    <div class="atributo-card">
                        <div class="atributo-header">
                            <h3>Inteligência (IQ)</h3>
                            <span class="atributo-value" id="currentIQ">10</span>
                        </div>
                        <div class="atributo-controls">
                            <button class="btn-atributo" onclick="alterarAtributo('IQ', -1)">-</button>
                            <input type="number" id="IQ" min="1" max="40" value="10" readonly>
                            <button class="btn-atributo" onclick="alterarAtributo('IQ', 1)">+</button>
                        </div>
                    </div>
                    
                    <div class="atributo-card">
                        <div class="atributo-header">
                            <h3>Saúde (HT)</h3>
                            <span class="atributo-value" id="currentHT">10</span>
                        </div>
                        <div class="atributo-controls">
                            <button class="btn-atributo" onclick="alterarAtributo('HT', -1)">-</button>
                            <input type="number" id="HT" min="1" max="40" value="10" readonly>
                            <button class="btn-atributo" onclick="alterarAtributo('HT', 1)">+</button>
                        </div>
                    </div>
                </div>
                
                <!-- Cargas e Dano -->
                <div class="secondary-grid">
                    <!-- Níveis de Carga -->
                    <div class="secondary-card">
                        <h3><i class="fas fa-weight-hanging"></i> Níveis de Carga</h3>
                        <div class="carga-list">
                            <div class="carga-item">
                                <span class="carga-label">Nenhuma:</span>
                                <span class="carga-value" id="cargaNenhuma">0.0</span>
                            </div>
                            <div class="carga-item">
                                <span class="carga-label">Leve:</span>
                                <span class="carga-value" id="cargaLeve">0.0</span>
                            </div>
                            <div class="carga-item">
                                <span class="carga-label">Média:</span>
                                <span class="carga-value" id="cargaMedia">0.0</span>
                            </div>
                            <div class="carga-item">
                                <span class="carga-label">Pesada:</span>
                                <span class="carga-value" id="cargaPesada">0.0</span>
                            </div>
                            <div class="carga-item">
                                <span class="carga-label">Muito Pesada:</span>
                                <span class="carga-value" id="cargaMuitoPesada">0.0</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Dano Básico -->
                    <div class="secondary-card">
                        <h3><i class="fas fa-fist-raised"></i> Dano Básico</h3>
                        <div class="dano-info">
                            <div class="dano-item">
                                <span class="dano-label">Golpe Desarmado (GdP):</span>
                                <span class="dano-value" id="danoGDP">1d-2</span>
                            </div>
                            <div class="dano-item">
                                <span class="dano-label">Golpe com Arma (GeB):</span>
                                <span class="dano-value" id="danoGEB">1d</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Atributos Secundários -->
                <div class="secondary-attributes-grid">
                    <div class="secondary-attribute">
                        <div class="attribute-info">
                            <span class="attribute-name">Pontos de Vida (PV)</span>
                            <div class="attribute-values">
                                <span class="base-value" id="PVBase">10</span>
                                <span class="separator">+</span>
                                <input type="number" id="bonusPV" min="-10" max="20" value="0" class="bonus-input">
                                <span class="separator">=</span>
                                <span class="total-value" id="PVTotal">10</span>
                            </div>
                        </div>
                        <div class="attribute-controls">
                            <button class="btn-secundario" onclick="ajustarSecundario('PV', -1)">-</button>
                            <button class="btn-secundario" onclick="ajustarSecundario('PV', 1)">+</button>
                        </div>
                    </div>
                    
                    <div class="secondary-attribute">
                        <div class="attribute-info">
                            <span class="attribute-name">Pontos de Fadiga (PF)</span>
                            <div class="attribute-values">
                                <span class="base-value" id="PFBase">10</span>
                                <span class="separator">+</span>
                                <input type="number" id="bonusPF" min="-10" max="20" value="0" class="bonus-input">
                                <span class="separator">=</span>
                                <span class="total-value" id="PFTotal">10</span>
                            </div>
                        </div>
                        <div class="attribute-controls">
                            <button class="btn-secundario" onclick="ajustarSecundario('PF', -1)">-</button>
                            <button class="btn-secundario" onclick="ajustarSecundario('PF', 1)">+</button>
                        </div>
                    </div>
                    
                    <div class="secondary-attribute">
                        <div class="attribute-info">
                            <span class="attribute-name">Vontade</span>
                            <div class="attribute-values">
                                <span class="base-value" id="VontadeBase">10</span>
                                <span class="separator">+</span>
                                <input type="number" id="bonusVontade" min="-10" max="20" value="0" class="bonus-input">
                                <span class="separator">=</span>
                                <span class="total-value" id="VontadeTotal">10</span>
                            </div>
                        </div>
                        <div class="attribute-controls">
                            <button class="btn-secundario" onclick="ajustarSecundario('Vontade', -1)">-</button>
                            <button class="btn-secundario" onclick="ajustarSecundario('Vontade', 1)">+</button>
                        </div>
                    </div>
                    
                    <div class="secondary-attribute">
                        <div class="attribute-info">
                            <span class="attribute-name">Percepção</span>
                            <div class="attribute-values">
                                <span class="base-value" id="PercepcaoBase">10</span>
                                <span class="separator">+</span>
                                <input type="number" id="bonusPercepcao" min="-10" max="20" value="0" class="bonus-input">
                                <span class="separator">=</span>
                                <span class="total-value" id="PercepcaoTotal">10</span>
                            </div>
                        </div>
                        <div class="attribute-controls">
                            <button class="btn-secundario" onclick="ajustarSecundario('Percepcao', -1)">-</button>
                            <button class="btn-secundario" onclick="ajustarSecundario('Percepcao', 1)">+</button>
                        </div>
                    </div>
                    
                    <div class="secondary-attribute">
                        <div class="attribute-info">
                            <span class="attribute-name">Deslocamento</span>
                            <div class="attribute-values">
                                <span class="base-value" id="DeslocamentoBase">5.00</span>
                                <span class="separator">+</span>
                                <input type="number" id="bonusDeslocamento" min="-10" max="20" step="0.25" value="0" class="bonus-input">
                                <span class="separator">=</span>
                                <span class="total-value" id="DeslocamentoTotal">5.00</span>
                            </div>
                        </div>
                        <div class="attribute-controls">
                            <button class="btn-secundario" onclick="ajustarSecundario('Deslocamento', -0.25)">-</button>
                            <button class="btn-secundario" onclick="ajustarSecundario('Deslocamento', 0.25)">+</button>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- SEÇÃO 3: CARDS ESPECIAIS -->
            <div class="cards-section">
                <!-- Card de Reação -->
                <div class="special-card">
                    <div class="card-header">
                        <h3><i class="fas fa-handshake"></i> Modificador de Reação</h3>
                    </div>
                    <div class="card-content">
                        <div class="reaction-item">
                            <label>Aparência:</label>
                            <div class="reaction-control">
                                <button class="btn-reaction" onclick="ajustarReacao('aparencia', -1)">-</button>
                                <input type="number" id="aparencia" min="-5" max="5" value="0" class="reaction-input">
                                <button class="btn-reaction" onclick="ajustarReacao('aparencia', 1)">+</button>
                            </div>
                        </div>
                        <div class="reaction-item">
                            <label>Reputação:</label>
                            <div class="reaction-control">
                                <button class="btn-reaction" onclick="ajustarReacao('reputacao', -1)">-</button>
                                <input type="number" id="reputacao" min="-5" max="5" value="0" class="reaction-input">
                                <button class="btn-reaction" onclick="ajustarReacao('reputacao', 1)">+</button>
                            </div>
                        </div>
                        <div class="reaction-item">
                            <label>Status:</label>
                            <div class="reaction-control">
                                <button class="btn-reaction" onclick="ajustarReacao('status', -1)">-</button>
                                <input type="number" id="status" min="-5" max="5" value="0" class="reaction-input">
                                <button class="btn-reaction" onclick="ajustarReacao('status', 1)">+</button>
                            </div>
                        </div>
                        <div class="reaction-item">
                            <label>Carisma:</label>
                            <div class="reaction-control">
                                <button class="btn-reaction" onclick="ajustarReacao('carisma', -1)">-</button>
                                <input type="number" id="carisma" min="-5" max="5" value="0" class="reaction-input">
                                <button class="btn-reaction" onclick="ajustarReacao('carisma', 1)">+</button>
                            </div>
                        </div>
                        <div class="reaction-total">
                            <label>Total:</label>
                            <span id="reacaoTotal">0</span>
                        </div>
                    </div>
                </div>
                
                <!-- Card de Pontos -->
                <div class="special-card">
                    <div class="card-header">
                        <h3><i class="fas fa-coins"></i> Sistema de Pontos</h3>
                    </div>
                    <div class="card-content">
                        <div class="points-input-group">
                            <label for="pontosIniciais"><i class="fas fa-play-circle"></i> Pontos Iniciais</label>
                            <input type="number" id="pontosIniciais" min="50" max="500" value="150">
                        </div>
                        
                        <div class="points-summary">
                            <div class="points-item">
                                <span class="points-label">Atributos:</span>
                                <span class="points-value" id="pontosAtributos">0</span>
                            </div>
                            <div class="points-item">
                                <span class="points-label">Vantagens:</span>
                                <span class="points-value" id="pontosVantagens">0</span>
                            </div>
                            <div class="points-item">
                                <span class="points-label">Desvantagens:</span>
                                <span class="points-value" id="pontosDesvantagens">0</span>
                            </div>
                            <div class="points-item">
                                <span class="points-label">Peculiaridades:</span>
                                <span class="points-value" id="pontosPeculiaridades">0</span>
                            </div>
                            <div class="points-item">
                                <span class="points-label">Perícias:</span>
                                <span class="points-value" id="pontosPericias">0</span>
                            </div>
                            <div class="points-item">
                                <span class="points-label">Técnicas:</span>
                                <span class="points-value" id="pontosTecnicas">0</span>
                            </div>
                            <div class="points-item">
                                <span class="points-label">Magia:</span>
                                <span class="points-value" id="pontosMagia">0</span>
                            </div>
                        </div>
                        
                        <div class="points-total">
                            <span class="total-label">Total Gastos:</span>
                            <span class="total-value" id="pontosGastos">0</span>
                        </div>
                        
                        <div class="points-limits">
                            <div class="limit-item">
                                <label>Limite Desvantagens:</label>
                                <div class="limit-control">
                                    <input type="number" id="limiteDesvantagens" min="0" max="100" value="40">
                                    <span class="unit">pts</span>
                                </div>
                            </div>
                            <div class="limit-item">
                                <label>Limite Peculiaridades:</label>
                                <div class="limit-control">
                                    <input type="number" id="limitePeculiaridades" min="0" max="100" value="20">
                                    <span class="unit">pts</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="points-campaign">
                            <div class="campaign-item">
                                <label for="pontosGanhos"><i class="fas fa-trophy"></i> Pontos Ganhos na Campanha</label>
                                <input type="number" id="pontosGanhos" min="0" max="500" value="0">
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Card de Riqueza -->
                <div class="special-card">
                    <div class="card-header">
                        <h3><i class="fas fa-gem"></i> Sistema de Riqueza</h3>
                    </div>
                    <div class="card-content">
                        <div class="wealth-level">
                            <label for="nivelRiqueza">Nível de Riqueza</label>
                            <select id="nivelRiqueza">
                                <option value="0.2">Miserável (×0.2)</option>
                                <option value="0.5">Pobre (×0.5)</option>
                                <option value="1" selected>Confortável (×1)</option>
                                <option value="2">Rico (×2)</option>
                                <option value="5">Muito Rico (×5)</option>
                                <option value="20">Filantropo (×20)</option>
                            </select>
                        </div>
                        
                        <div class="wealth-values">
                            <div class="wealth-item">
                                <label for="valorBaseRiqueza">Valor Base</label>
                                <div class="wealth-input">
                                    <span class="currency">$</span>
                                    <input type="number" id="valorBaseRiqueza" min="0" max="1000000" value="1000">
                                </div>
                            </div>
                            
                            <div class="wealth-item">
                                <label>Multiplicador</label>
                                <div class="wealth-display">
                                    <span id="multiplicadorRiqueza">×1</span>
                                </div>
                            </div>
                            
                            <div class="wealth-item">
                                <label>Riqueza Total</label>
                                <div class="wealth-display total">
                                    <span class="currency">$</span>
                                    <span id="riquezaTotal">1000</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="wealth-saldo">
                            <div class="saldo-item">
                                <label for="saldoAtual">Saldo Atual</label>
                                <div class="saldo-input">
                                    <span class="currency">$</span>
                                    <input type="number" id="saldoAtual" min="0" max="1000000" value="1000">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Outras abas (em desenvolvimento) -->
    <div id="vantagens" class="tab-content">
        <div class="dev-placeholder">
            <div class="dev-icon">
                <i class="fas fa-tools"></i>
            </div>
            <div class="dev-text">Vantagens e Desvantagens</div>
            <div class="dev-subtext">Esta aba está em desenvolvimento</div>
        </div>
    </div>
    
    <div id="pericias" class="tab-content">
        <div class="dev-placeholder">
            <div class="dev-icon">
                <i class="fas fa-tools"></i>
            </div>
            <div class="dev-text">Perícias e Técnicas</div>
            <div class="dev-subtext">Esta aba está em desenvolvimento</div>
        </div>
    </div>
    
    <div id="magia" class="tab-content">
        <div class="dev-placeholder">
            <div class="dev-icon">
                <i class="fas fa-tools"></i>
            </div>
            <div class="dev-text">Magia</div>
            <div class="dev-subtext">Esta aba está em desenvolvimento</div>
        </div>
    </div>
    
    <div id="equipamentos" class="tab-content">
        <div class="dev-placeholder">
            <div class="dev-icon">
                <i class="fas fa-tools"></i>
            </div>
            <div class="dev-text">Equipamentos</div>
            <div class="dev-subtext">Esta aba está em desenvolvimento</div>
        </div>
    </div>
    
    <div id="combate" class="tab-content">
        <div class="dev-placeholder">
            <div class="dev-icon">
                <i class="fas fa-tools"></i>
            </div>
            <div class="dev-text">Combate</div>
            <div class="dev-subtext">Esta aba está em desenvolvimento</div>
        </div>
    </div>
    
    <!-- Modal para Altura/Peso -->
    <div id="alturaPesoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-sliders-h"></i> Personalizar Altura e Peso</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h4>Características Físicas</h4>
                    <div class="caracteristicas-grid">
                        <button class="caracteristica-btn" data-tipo="magro">
                            <i class="fas fa-person-walking"></i>
                            <span>Magro (-5 pts)</span>
                        </button>
                        <button class="caracteristica-btn" data-tipo="acima-peso">
                            <i class="fas fa-weight-hanging"></i>
                            <span>Acima do Peso (-1 pts)</span>
                        </button>
                        <button class="caracteristica-btn" data-tipo="gordo">
                            <i class="fas fa-weight-hanging"></i>
                            <span>Gordo (-3 pts)</span>
                        </button>
                        <button class="caracteristica-btn" data-tipo="muito-gordo">
                            <i class="fas fa-weight-hanging"></i>
                            <span>Muito Gordo (-5 pts)</span>
                        </button>
                        <button class="caracteristica-btn" data-tipo="nanismo">
                            <i class="fas fa-arrow-down"></i>
                            <span>Nanismo (-15 pts)</span>
                        </button>
                        <button class="caracteristica-btn" data-tipo="gigantismo">
                            <i class="fas fa-arrow-up"></i>
                            <span>Gigantismo (0 pts)</span>
                        </button>
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4>Ajustes Manuais</h4>
                    <div class="ajustes-grid">
                        <div class="ajuste-item">
                            <label for="alturaModal">Altura</label>
                            <div class="ajuste-control">
                                <input type="number" id="alturaModal" min="1.20" max="2.50" step="0.01" value="1.70">
                                <span class="unit">m</span>
                            </div>
                            <div class="ajuste-buttons">
                                <button onclick="ajustarValor('alturaModal', -0.01)">-</button>
                                <button onclick="ajustarValor('alturaModal', 0.01)">+</button>
                            </div>
                        </div>
                        
                        <div class="ajuste-item">
                            <label for="pesoModal">Peso</label>
                            <div class="ajuste-control">
                                <input type="number" id="pesoModal" min="20" max="200" step="1" value="70">
                                <span class="unit">kg</span>
                            </div>
                            <div class="ajuste-buttons">
                                <button onclick="ajustarValor('pesoModal', -1)">-</button>
                                <button onclick="ajustarValor('pesoModal', 1)">+</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4>Status Atual</h4>
                    <div class="status-grid">
                        <div class="status-item">
                            <span class="status-label">ST Base:</span>
                            <span class="status-value" id="statusST">10</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Faixa de Altura:</span>
                            <span class="status-value" id="faixaAltura">1.58m - 1.83m</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Faixa de Peso:</span>
                            <span class="status-value" id="faixaPeso">57.5kg - 87.5kg</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-modal btn-cancel">Cancelar</button>
                <button class="btn-modal btn-apply">Aplicar</button>
            </div>
        </div>
    </div>
    
    <script src="atributos.js"></script>
    <script>
        // Sistema de Tabs
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });
        
        // Botões do cabeçalho
        document.getElementById('saveBtn').addEventListener('click', () => {
            alert('Personagem salvo com sucesso!');
        });
        
        document.getElementById('editBtn').addEventListener('click', () => {
            alert('Modo edição ativado!');
        });
        
        document.getElementById('clearBtn').addEventListener('click', () => {
            if (confirm('Tem certeza que deseja limpar todos os dados?')) {
                // Limpar todos os inputs
                document.querySelectorAll('input, textarea, select').forEach(input => {
                    if (input.type !== 'button') {
                        input.value = input.type === 'number' ? 
                            (input.id.includes('idade') ? 25 : 
                             input.id.includes('altura') ? 1.70 : 
                             input.id.includes('peso') ? 70 : 
                             input.id.includes('bonus') ? 0 : 
                             input.id.includes('pontos') ? 
                                (input.id.includes('Iniciais') ? 150 : 0) : 
                             input.id.includes('valorBase') ? 1000 : 
                             input.id.includes('saldo') ? 1000 : 
                             input.id.includes('limite') ? 
                                (input.id.includes('Desvantagens') ? 40 : 20) : 0) : 
                            '';
                    }
                });
                alert('Dados limpos com sucesso!');
            }
        });
        
        // Gerar ID do personagem
        document.getElementById('generateIdBtn').addEventListener('click', () => {
            const randomId = 'PC-' + Math.floor(Math.random() * 90000 + 10000);
            document.getElementById('personagemId').textContent = randomId;
        });
        
        // Sistema de Riqueza
        const nivelRiqueza = document.getElementById('nivelRiqueza');
        const valorBaseRiqueza = document.getElementById('valorBaseRiqueza');
        const multiplicadorRiqueza = document.getElementById('multiplicadorRiqueza');
        const riquezaTotal = document.getElementById('riquezaTotal');
        const saldoAtual = document.getElementById('saldoAtual');
        
        function calcularRiqueza() {
            const valorBase = parseFloat(valorBaseRiqueza.value) || 0;
            const multiplicador = parseFloat(nivelRiqueza.value) || 1;
            const total = valorBase * multiplicador;
            
            multiplicadorRiqueza.textContent = '×' + multiplicador;
            riquezaTotal.textContent = total.toFixed(2);
            
            // Atualizar saldo se for maior que o total
            if (parseFloat(saldoAtual.value) > total) {
                saldoAtual.value = total.toFixed(2);
            }
        }
        
        nivelRiqueza.addEventListener('change', calcularRiqueza);
        valorBaseRiqueza.addEventListener('input', calcularRiqueza);
        saldoAtual.addEventListener('input', calcularRiqueza);
        
        // Sistema de Reação
        function ajustarReacao(tipo, valor) {
            const input = document.getElementById(tipo);
            const novoValor = parseInt(input.value) + valor;
            
            if (novoValor >= -5 && novoValor <= 5) {
                input.value = novoValor;
                calcularReacaoTotal();
            }
        }
        
        function calcularReacaoTotal() {
            const aparencia = parseInt(document.getElementById('aparencia').value) || 0;
            const reputacao = parseInt(document.getElementById('reputacao').value) || 0;
            const status = parseInt(document.getElementById('status').value) || 0;
            const carisma = parseInt(document.getElementById('carisma').value) || 0;
            
            const total = aparencia + reputacao + status + carisma;
            document.getElementById('reacaoTotal').textContent = total;
            
            // Colorir
            const elemento = document.getElementById('reacaoTotal');
            elemento.className = '';
            if (total > 0) elemento.classList.add('positivo');
            else if (total < 0) elemento.classList.add('negativo');
        }
        
        // Inicializar reação
        calcularReacaoTotal();
        
        // Funções utilitárias
        function ajustarValor(id, valor) {
            const input = document.getElementById(id);
            if (input) {
                const novoValor = parseFloat(input.value) + valor;
                if (novoValor >= parseFloat(input.min) && novoValor <= parseFloat(input.max)) {
                    input.value = novoValor;
                    input.dispatchEvent(new Event('change'));
                }
            }
        }
        
        // Modal de Altura/Peso
        const alturaPesoModal = document.getElementById('alturaPesoModal');
        const customizeBtn = document.getElementById('customizeAlturaPesoBtn');
        const closeModal = document.querySelector('.close-modal');
        const cancelModal = document.querySelector('.btn-cancel');
        const applyModal = document.querySelector('.btn-apply');
        
        customizeBtn.addEventListener('click', () => {
            // Preencher valores atuais no modal
            document.getElementById('alturaModal').value = document.getElementById('altura').value;
            document.getElementById('pesoModal').value = document.getElementById('peso').value;
            
            // Mostrar modal
            alturaPesoModal.style.display = 'block';
        });
        
        closeModal.addEventListener('click', () => {
            alturaPesoModal.style.display = 'none';
        });
        
        cancelModal.addEventListener('click', () => {
            alturaPesoModal.style.display = 'none';
        });
        
        applyModal.addEventListener('click', () => {
            // Aplicar valores do modal
            document.getElementById('altura').value = document.getElementById('alturaModal').value;
            document.getElementById('peso').value = document.getElementById('pesoModal').value;
            
            // Disparar eventos de change
            document.getElementById('altura').dispatchEvent(new Event('change'));
            document.getElementById('peso').dispatchEvent(new Event('change'));
            
            alturaPesoModal.style.display = 'none';
        });
        
        // Fechar modal ao clicar fora
        window.addEventListener('click', (event) => {
            if (event.target === alturaPesoModal) {
                alturaPesoModal.style.display = 'none';
            }
        });
        
        // Inicializar sistema de riqueza
        calcularRiqueza();
    </script>
</body>
</html>